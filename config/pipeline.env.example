# Copy to .env and set for pipeline / VPS runs
# Mining (autonomous prospector)
ESM_THRESHOLD=0.75
ESM_SIMILARITY_FLOOR=0.50
ESM_SIMILARITY_CEILING=0.85
REQUIRE_CRISPR=1
DEEP_MINE_MAX=15
SRA_MAX_RECORDS=100
BROAD_LIST_THRESHOLD=500

# Exhaustive contig mining: single fixed query (bacteria/archaea WGS/metagenome), paginate all contigs, no LLM
# EXHAUSTIVE_MODE=1
# FILTER_23_HEPN=1   # only keep 2-3 HEPN hits (for dashboard); default 1 in exhaustive mode

# Parallel prospector (e.g. 32-core CPU: PROSPECTOR_WORKERS=4 or 8; each worker loads ESM-2)
# PROSPECTOR_WORKERS=1
# ESM_BATCH_SIZE=32   # ORFs per ESM-2 batch (larger = faster if enough RAM/VRAM)

# HMMER screening (off by default; set USE_HMMER=1 to enable). Requires data/hmm/*.hmm (run scripts/fetch_pfam_cas13_hmms.py)
# USE_HMMER=0
# HMM_DIR=data/hmm
# HMM_EVALUE=1e-5

# Shotgun SRA: after exhausting broad query list, pull random metagenomes
# SHOTGUN_AFTER_EXHAUSTED=1
# SHOTGUN_PROBABILITY=0.8
# SHOTGUN_MAX_OFFSET=50000

# Full enzyme + CRISPR repeats (SRA Scout and autonomous prospector)
REQUIRE_START_M=1
MIN_CTERM_TAIL=15
CONTIG_BOUNDARY_MARGIN=30
REQUIRE_FULL_STRUCTURE=0
MIN_REPEAT_COUNT=1
# CRISPR mandatory; must be within this many bp upstream or downstream of the ORF (default 10000)
# CRISPR_FLANK_BP=10000

# Mining for closest similarity to RfxCas13d / PspCas13a; 85% similarity ceiling (set path)
ESM_REFERENCE_FASTA=data/references/mining_refs.fasta

# Design: trans-cleavage mutation suggestions (Gemini). Use --use-trans-cleavage-prompt in mutate_for_drift
# GEMINI_API_KEY=your_key

# Device (cuda or cpu)
FAMILY_DEVICE=cuda
EMBED_BATCH_SIZE=50

# LLM (for autonomous prospector strategy)
LLM_PROVIDER=local
LLM_LOCAL_URL=http://localhost:11434/api/chat
LLM_MODEL=llama3-bio

# Structure (OmegaFold)
OMEGAFOLD_REPO=/path/to/OmegaFold

# Pipeline (run_full_pipeline / identity)
# MAX_IDENTITY=0.85 and TM_THRESHOLD=0.4 are passed via CLI by default
